{"version":3,"file":"cohortchoicefilter.min.js","sources":["../src/cohortchoicefilter.js"],"sourcesContent":["/**\n * applies filter to cohort selection list\n */\n// jshint undef:false, unused:false\n\ndefine(['jquery', 'core/config', 'core/log'], function($, cfg, log) {\n\n    var options = $('#id_customint1').find('option');\n\n    var cohortrestricted = {\n        init: function() {\n            $('#id_cohortfilter').bind('change', this.filterlist);\n\n            log.debug('AMD Enrol cohortrestricted cohortchoicefilter initialized');\n        },\n\n        filterlist: function() {\n\n            var filter = $(this).val();\n\n            var i = 1;\n\n            $('#rc-ajax-loader').html('<img src=\"' + cfg.wwwroot + '/pix/i/ajaxloader.gif\">');\n\n            options.each(function() {\n                var that = $(this);\n                that.removeAttr('selected');\n                if (that.text().indexOf(filter) != -1) {\n                    that.show();\n                    if (i == 1) {\n                        that.attr('selected', 'selected');\n                    }\n                    i++;\n                } else {\n                    that.hide();\n                }\n            });\n\n            $('#rc-ajax-loader').html('');\n        }\n    };\n\n    return cohortrestricted;\n\n});"],"names":["define","$","cfg","log","options","find","init","bind","this","filterlist","debug","filter","val","i","html","wwwroot","each","that","removeAttr","text","indexOf","show","attr","hide"],"mappings":"AAKAA,mDAAO,CAAC,SAAU,cAAe,aAAa,SAASC,EAAGC,IAAKC,SAEvDC,QAAUH,EAAE,kBAAkBI,KAAK,gBAEhB,CACnBC,KAAM,WACFL,EAAE,oBAAoBM,KAAK,SAAUC,KAAKC,YAE1CN,IAAIO,MAAM,8DAGdD,WAAY,eAEJE,OAASV,EAAEO,MAAMI,MAEjBC,EAAI,EAERZ,EAAE,mBAAmBa,KAAK,aAAeZ,IAAIa,QAAU,2BAEvDX,QAAQY,MAAK,eACLC,KAAOhB,EAAEO,MACbS,KAAKC,WAAW,aACoB,GAAhCD,KAAKE,OAAOC,QAAQT,SACpBM,KAAKI,OACI,GAALR,GACAI,KAAKK,KAAK,WAAY,YAE1BT,KAEAI,KAAKM,UAIbtB,EAAE,mBAAmBa,KAAK,KAMrC"}